# é¡¹ç›®å®æ–½æ€»ç»“

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1. åç«¯å¼€å‘ (Node.js + Express + FFmpeg)

#### é¡¹ç›®ç»“æ„
```
backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ database.js          # æ•°æ®åº“é…ç½®
â”‚   â”‚   â”œâ”€â”€ migrate.js           # æ•°æ®åº“è¿ç§»è„šæœ¬
â”‚   â”‚   â””â”€â”€ passport.js          # Passport Google OAuth é…ç½®
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ authController.js    # è®¤è¯æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ uploadController.js  # æ–‡ä»¶ä¸Šä¼ æ§åˆ¶å™¨
â”‚   â”‚   â””â”€â”€ processController.js # å¤„ç†ä»»åŠ¡æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ User.js             # ç”¨æˆ·æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ ProcessingJob.js    # å¤„ç†ä»»åŠ¡æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ RefreshToken.js     # Token æ¨¡å‹
â”‚   â”‚   â””â”€â”€ index.js            # æ¨¡å‹å…³è”
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ auth.js             # è®¤è¯è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ upload.js           # ä¸Šä¼ è·¯ç”±
â”‚   â”‚   â””â”€â”€ process.js          # å¤„ç†è·¯ç”±
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”œâ”€â”€ auth.js             # JWT è®¤è¯ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ upload.js           # Multer ä¸Šä¼ ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ ffmpegService.js    # FFmpeg å¤„ç†æœåŠ¡
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ fileCleanup.js      # æ–‡ä»¶æ¸…ç†å·¥å…·
â”‚   â””â”€â”€ server.js               # æœåŠ¡å™¨å…¥å£
â”œâ”€â”€ uploads/                     # ä¸Šä¼ ç›®å½•
â”œâ”€â”€ outputs/                     # è¾“å‡ºç›®å½•
â”œâ”€â”€ package.json
â””â”€â”€ .env.example
```

#### å·²å®ç°åŠŸèƒ½

**è®¤è¯ç³»ç»Ÿ**ï¼š
- âœ… é‚®ç®±å¯†ç æ³¨å†Œ/ç™»å½•ï¼ˆå¯†ç  bcrypt åŠ å¯†ï¼‰
- âœ… Google OAuth 2.0 ç™»å½•
- âœ… JWT Token è®¤è¯
- âœ… Refresh Token è‡ªåŠ¨åˆ·æ–°
- âœ… ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢

**æ–‡ä»¶ä¸Šä¼ **ï¼š
- âœ… å•æ–‡ä»¶ä¸Šä¼ 
- âœ… å¤šæ–‡ä»¶ä¸Šä¼ 
- âœ… æ–‡ä»¶ç±»å‹éªŒè¯
- âœ… æ–‡ä»¶å¤§å°é™åˆ¶ï¼ˆ500MBï¼‰
- âœ… UUID å”¯ä¸€æ–‡ä»¶å

**è§†é¢‘å¤„ç†**ï¼ˆ14 ç§åŠŸèƒ½ï¼‰ï¼š
1. âœ… æ ¼å¼è½¬æ¢ï¼ˆMP4, AVI, MOV, MKV, WebMï¼‰
2. âœ… è§†é¢‘å‹ç¼©ï¼ˆç ç‡ã€åˆ†è¾¨ç‡ã€å¸§ç‡ï¼‰
3. âœ… è§†é¢‘è£å‰ª/å‰ªè¾‘
4. âœ… è§†é¢‘åˆå¹¶
5. âœ… æ—‹è½¬è§†é¢‘ï¼ˆ90Â°, 180Â°, 270Â°ï¼‰
6. âœ… ç¿»è½¬è§†é¢‘ï¼ˆæ°´å¹³/å‚ç›´ï¼‰
7. âœ… è°ƒæ•´è§†é¢‘é€Ÿåº¦
8. âœ… æå–éŸ³é¢‘
9. âœ… è§†é¢‘è½¬ GIF
10. âœ… æ·»åŠ å›¾ç‰‡æ°´å°
11. âœ… æ·»åŠ æ–‡å­—æ°´å°
12. âœ… è§†é¢‘æˆªå›¾
13. âœ… å»é™¤éŸ³é¢‘
14. âœ… æ›¿æ¢éŸ³é¢‘

**å›¾ç‰‡å¤„ç†**ï¼ˆ7 ç§åŠŸèƒ½ï¼‰ï¼š
1. âœ… æ ¼å¼è½¬æ¢ï¼ˆJPG, PNG, WebP, GIF, BMPï¼‰
2. âœ… å›¾ç‰‡å‹ç¼©
3. âœ… è°ƒæ•´å¤§å°/è£å‰ª
4. âœ… æ—‹è½¬å›¾ç‰‡
5. âœ… ç¿»è½¬å›¾ç‰‡
6. âœ… æ·»åŠ æ°´å°
7. âœ… å›¾ç‰‡è½¬è§†é¢‘

**ä»»åŠ¡ç®¡ç†**ï¼š
- âœ… å¤„ç†çŠ¶æ€æŸ¥è¯¢
- âœ… å¤„ç†å†å²è®°å½•
- âœ… æ–‡ä»¶ä¸‹è½½
- âœ… è‡ªåŠ¨æ–‡ä»¶æ¸…ç†ï¼ˆ24 å°æ—¶ï¼‰

**å®‰å…¨ç‰¹æ€§**ï¼š
- âœ… Helmet å®‰å…¨å¤´
- âœ… CORS é…ç½®
- âœ… è¯·æ±‚é¢‘ç‡é™åˆ¶
- âœ… æ–‡ä»¶ç±»å‹ç™½åå•
- âœ… SQL æ³¨å…¥é˜²æŠ¤ï¼ˆSequelize ORMï¼‰

### 2. å‰ç«¯å¼€å‘ (React + Next.js + Tailwind CSS)

#### é¡¹ç›®ç»“æ„
```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ layout.tsx           # æ ¹å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ page.tsx             # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ globals.css          # å…¨å±€æ ·å¼
â”‚   â”‚   â”œâ”€â”€ login/               # ç™»å½•é¡µé¢
â”‚   â”‚   â”œâ”€â”€ register/            # æ³¨å†Œé¡µé¢
â”‚   â”‚   â”œâ”€â”€ auth/callback/       # OAuth å›è°ƒ
â”‚   â”‚   â”œâ”€â”€ dashboard/           # ä»ªè¡¨æ¿
â”‚   â”‚   â”œâ”€â”€ process/
â”‚   â”‚   â”‚   â”œâ”€â”€ video/          # è§†é¢‘å¤„ç†
â”‚   â”‚   â”‚   â””â”€â”€ image/          # å›¾ç‰‡å¤„ç†
â”‚   â”‚   â”œâ”€â”€ history/             # å¤„ç†å†å²
â”‚   â”‚   â””â”€â”€ profile/             # ä¸ªäººè®¾ç½®
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Header.tsx           # å¯¼èˆªæ 
â”‚   â”‚   â”œâ”€â”€ FileUploader.tsx     # æ–‡ä»¶ä¸Šä¼ ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ProtectedRoute.tsx   # è·¯ç”±ä¿æŠ¤
â”‚   â””â”€â”€ lib/
â”‚       â”œâ”€â”€ api.ts               # API è¯·æ±‚å°è£…
â”‚       â””â”€â”€ store.ts             # Zustand çŠ¶æ€ç®¡ç†
â”œâ”€â”€ package.json
â””â”€â”€ tailwind.config.js
```

#### å·²å®ç°åŠŸèƒ½

**é¡µé¢**ï¼š
- âœ… é¦–é¡µï¼ˆåŠŸèƒ½ä»‹ç»ï¼‰
- âœ… ç™»å½•é¡µé¢ï¼ˆé‚®ç®±å¯†ç  + Google OAuthï¼‰
- âœ… æ³¨å†Œé¡µé¢
- âœ… ç”¨æˆ·ä»ªè¡¨æ¿
- âœ… è§†é¢‘å¤„ç†é¡µé¢ï¼ˆ6 ç§å¤„ç†ç±»å‹ï¼‰
- âœ… å›¾ç‰‡å¤„ç†é¡µé¢ï¼ˆ2 ç§å¤„ç†ç±»å‹ï¼‰
- âœ… å¤„ç†å†å²é¡µé¢
- âœ… ä¸ªäººè®¾ç½®é¡µé¢

**ç»„ä»¶**ï¼š
- âœ… å“åº”å¼å¯¼èˆªæ ï¼ˆPC + ç§»åŠ¨ç«¯ï¼‰
- âœ… æ–‡ä»¶æ‹–æ‹½ä¸Šä¼ ç»„ä»¶
- âœ… å¤„ç†é€‰é¡¹é…ç½®é¢æ¿
- âœ… è¿›åº¦æ˜¾ç¤ºç»„ä»¶
- âœ… ä¸‹è½½æŒ‰é’®
- âœ… å†å²è®°å½•åˆ—è¡¨

**åŠŸèƒ½ç‰¹æ€§**ï¼š
- âœ… JWT Token è®¤è¯
- âœ… Token è‡ªåŠ¨åˆ·æ–°
- âœ… è·¯ç”±ä¿æŠ¤
- âœ… å…¨å±€çŠ¶æ€ç®¡ç†ï¼ˆZustandï¼‰
- âœ… è¡¨å•éªŒè¯ï¼ˆReact Hook Formï¼‰
- âœ… é”™è¯¯å¤„ç†å’Œæç¤º
- âœ… åŠ è½½çŠ¶æ€æ˜¾ç¤º

**å“åº”å¼è®¾è®¡**ï¼š
- âœ… PC ç«¯å®Œæ•´ä½“éªŒ
- âœ… ç§»åŠ¨ç«¯é€‚é…
- âœ… å¹³æ¿è®¾å¤‡æ”¯æŒ
- âœ… è§¦æ‘¸å‹å¥½çš„äº¤äº’
- âœ… æ±‰å ¡èœå•å¯¼èˆª

### 3. æ–‡æ¡£

å·²åˆ›å»ºå®Œæ•´æ–‡æ¡£ï¼š
- âœ… **README.md** - é¡¹ç›®æ€»è§ˆå’ŒæŠ€æœ¯æ ˆ
- âœ… **QUICKSTART.md** - 10 åˆ†é’Ÿå¿«é€Ÿå¯åŠ¨æŒ‡å—
- âœ… **TESTING.md** - è¯¦ç»†æµ‹è¯•æŒ‡å—
- âœ… **DEPLOYMENT.md** - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æŒ‡å—
- âœ… **backend/README.md** - åç«¯è¯¦ç»†æ–‡æ¡£
- âœ… **frontend/README.md** - å‰ç«¯è¯¦ç»†æ–‡æ¡£
- âœ… **PROJECT_SUMMARY.md** - é¡¹ç›®å®æ–½æ€»ç»“

## ğŸ“‹ æŠ€æœ¯æ ˆ

### åç«¯
- **æ¡†æ¶**: Node.js + Express
- **æ•°æ®åº“**: MySQL + Sequelize ORM
- **è®¤è¯**: JWT + Passport.js (Google OAuth)
- **æ–‡ä»¶å¤„ç†**: FFmpeg (fluent-ffmpeg)
- **æ–‡ä»¶ä¸Šä¼ **: Multer
- **å®‰å…¨**: Helmet, CORS, Rate Limiting
- **è¿›ç¨‹ç®¡ç†**: PM2ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

### å‰ç«¯
- **æ¡†æ¶**: Next.js 14 (App Router)
- **UI**: React 18 + TypeScript
- **æ ·å¼**: Tailwind CSS
- **çŠ¶æ€ç®¡ç†**: Zustand
- **HTTP å®¢æˆ·ç«¯**: Axios
- **è¡¨å•**: React Hook Form
- **æ–‡ä»¶ä¸Šä¼ **: React Dropzone
- **å›¾æ ‡**: Lucide React

### éƒ¨ç½²
- **åç«¯**: äº‘æœåŠ¡å™¨ + Nginx + PM2
- **å‰ç«¯**: Vercel (æ¨è) æˆ–äº‘æœåŠ¡å™¨
- **æ•°æ®åº“**: MySQL
- **SSL**: Let's Encrypt

## ğŸš€ ä¸‹ä¸€æ­¥æ“ä½œ

### 1. æœ¬åœ°å¼€å‘æµ‹è¯•

```bash
# 1. å…‹éš†/ä¸‹è½½é¡¹ç›®
cd Video-Image-process

# 2. å¯åŠ¨åç«¯
cd backend
npm install
cp .env.example .env
# ç¼–è¾‘ .env é…ç½®æ•°æ®åº“
npm run migrate
npm run dev

# 3. å¯åŠ¨å‰ç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰
cd frontend
npm install
npm run dev

# 4. è®¿é—®åº”ç”¨
# å‰ç«¯: http://localhost:3000
# åç«¯: http://localhost:5000
```

è¯¦ç»†æ­¥éª¤è¯·å‚è€ƒ **[QUICKSTART.md](./QUICKSTART.md)**

### 2. åŠŸèƒ½æµ‹è¯•

æŒ‰ç…§ **[TESTING.md](./TESTING.md)** è¿›è¡Œå…¨é¢æµ‹è¯•ï¼š
- ç”¨æˆ·è®¤è¯æµ‹è¯•
- è§†é¢‘å¤„ç†æµ‹è¯•ï¼ˆ6 ç§ç±»å‹ï¼‰
- å›¾ç‰‡å¤„ç†æµ‹è¯•ï¼ˆ2 ç§ç±»å‹ï¼‰
- å¤„ç†å†å²æµ‹è¯•
- ç§»åŠ¨ç«¯æµ‹è¯•
- API æ¥å£æµ‹è¯•
- å®‰å…¨æµ‹è¯•

### 3. Google OAuth é…ç½®ï¼ˆå¯é€‰ï¼‰

å¦‚éœ€ Google ç™»å½•åŠŸèƒ½ï¼š
1. è®¿é—® [Google Cloud Console](https://console.cloud.google.com/)
2. åˆ›å»º OAuth 2.0 å®¢æˆ·ç«¯ ID
3. é…ç½®å›è°ƒ URL
4. æ›´æ–° `.env` é…ç½®

è¯¦ç»†æ­¥éª¤è¯·å‚è€ƒ **[DEPLOYMENT.md](./DEPLOYMENT.md#google-oauth-é…ç½®)**

### 4. ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

å‡†å¤‡å¥½åï¼ŒæŒ‰ç…§ **[DEPLOYMENT.md](./DEPLOYMENT.md)** éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼š
- äº‘æœåŠ¡å™¨é…ç½®
- æ•°æ®åº“è®¾ç½®
- Nginx åå‘ä»£ç†
- SSL è¯ä¹¦é…ç½®
- æ€§èƒ½ä¼˜åŒ–
- ç›‘æ§å’Œç»´æŠ¤

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

- **åç«¯æ–‡ä»¶**: 15+ ä¸ªæ ¸å¿ƒæ–‡ä»¶
- **å‰ç«¯æ–‡ä»¶**: 20+ ä¸ªæ ¸å¿ƒæ–‡ä»¶
- **API æ¥å£**: 20+ ä¸ª
- **å¤„ç†åŠŸèƒ½**: 21 ç§ï¼ˆ14 è§†é¢‘ + 7 å›¾ç‰‡ï¼‰
- **æ•°æ®è¡¨**: 3 ä¸ª
- **æ€»ä»£ç é‡**: 3000+ è¡Œ

## ğŸ¯ åŠŸèƒ½å¯¹ç…§è¡¨

| éœ€æ±‚ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| å‰åç«¯åˆ†ç¦»æ¶æ„ | âœ… | Node.js åç«¯ + Next.js å‰ç«¯ |
| MySQL æ•°æ®åº“ | âœ… | Sequelize ORM |
| æ–‡ä»¶ä¸Šä¼ æ¥å£ | âœ… | Multer + UUID |
| FFmpeg å¤„ç† | âœ… | 21 ç§å¤„ç†åŠŸèƒ½ |
| é‚®ç®±å¯†ç ç™»å½• | âœ… | bcrypt + JWT |
| Google OAuth | âœ… | Passport.js |
| PC ç«¯é€‚é… | âœ… | å“åº”å¼è®¾è®¡ |
| ç§»åŠ¨ç«¯é€‚é… | âœ… | Tailwind CSS |
| è§†é¢‘æ ¼å¼è½¬æ¢ | âœ… | 5 ç§æ ¼å¼ |
| è§†é¢‘å‹ç¼© | âœ… | ç ç‡/åˆ†è¾¨ç‡/å¸§ç‡ |
| è§†é¢‘è£å‰ª | âœ… | æ—¶é—´æ®µè£å‰ª |
| è§†é¢‘åˆå¹¶ | âœ… | å¤šæ–‡ä»¶åˆå¹¶ |
| è§†é¢‘æ—‹è½¬ | âœ… | 90Â°/180Â°/270Â° |
| è§†é¢‘æ°´å° | âœ… | å›¾ç‰‡/æ–‡å­—æ°´å° |
| æå–éŸ³é¢‘ | âœ… | MP3 æ ¼å¼ |
| è§†é¢‘è½¬ GIF | âœ… | è‡ªå®šä¹‰å‚æ•° |
| å›¾ç‰‡æ ¼å¼è½¬æ¢ | âœ… | 5 ç§æ ¼å¼ |
| å›¾ç‰‡å‹ç¼© | âœ… | è´¨é‡è°ƒæ•´ |
| å›¾ç‰‡è°ƒæ•´å¤§å° | âœ… | åƒç´ /ç™¾åˆ†æ¯” |
| å¤„ç†å†å² | âœ… | åˆ†é¡µåˆ—è¡¨ |
| æ–‡ä»¶ä¸‹è½½ | âœ… | ç›´æ¥ä¸‹è½½ |
| è‡ªåŠ¨æ¸…ç† | âœ… | 24 å°æ—¶ |

## ğŸ’¡ æŠ€æœ¯äº®ç‚¹

1. **å®Œæ•´çš„ç”¨æˆ·è®¤è¯ç³»ç»Ÿ**
   - å¤šç§ç™»å½•æ–¹å¼ï¼ˆé‚®ç®± + Googleï¼‰
   - JWT + Refresh Token æœºåˆ¶
   - è‡ªåŠ¨ Token åˆ·æ–°

2. **å¼ºå¤§çš„æ–‡ä»¶å¤„ç†èƒ½åŠ›**
   - åŸºäº FFmpeg ä¸“ä¸šå¤„ç†
   - 21 ç§å¤„ç†åŠŸèƒ½
   - å¼‚æ­¥ä»»åŠ¡å¤„ç†

3. **ç°ä»£åŒ–å‰ç«¯æ¶æ„**
   - Next.js 14 App Router
   - TypeScript ç±»å‹å®‰å…¨
   - ç»„ä»¶åŒ–å¼€å‘

4. **å“åº”å¼è®¾è®¡**
   - Tailwind CSS
   - ç§»åŠ¨ç«¯ä¼˜åŒ–
   - è§¦æ‘¸å‹å¥½

5. **å®‰å…¨æ€§**
   - å¯†ç åŠ å¯†
   - JWT è®¤è¯
   - æ–‡ä»¶éªŒè¯
   - è¯·æ±‚é™åˆ¶

6. **æ€§èƒ½ä¼˜åŒ–**
   - æ–‡ä»¶æµå¼ä¼ è¾“
   - æ•°æ®åº“ç´¢å¼•
   - å‰ç«¯ä»£ç åˆ†å‰²
   - è‡ªåŠ¨æ–‡ä»¶æ¸…ç†

## ğŸ“ æ³¨æ„äº‹é¡¹

### å¼€å‘ç¯å¢ƒ
- Node.js >= 14.x
- MySQL >= 5.7
- FFmpeg >= 4.0
- æ¨èä½¿ç”¨ VS Code

### ç”Ÿäº§ç¯å¢ƒ
- äº‘æœåŠ¡å™¨ï¼ˆ2 æ ¸ 4GB ä»¥ä¸Šï¼‰
- MySQL æ•°æ®åº“
- Nginx åå‘ä»£ç†
- SSL è¯ä¹¦
- PM2 è¿›ç¨‹ç®¡ç†

### Google OAuth
- éœ€è¦ Google Cloud é¡¹ç›®
- é…ç½® OAuth åŒæ„å±å¹•
- æ·»åŠ æˆæƒå›è°ƒ URI
- è·å– Client ID å’Œ Secret

### æ–‡ä»¶å¤„ç†
- é»˜è®¤ä¸Šä¼ é™åˆ¶: 500MB
- æ–‡ä»¶ä¿ç•™æ—¶é—´: 24 å°æ—¶
- æ”¯æŒçš„è§†é¢‘æ ¼å¼: MP4, AVI, MOV, MKV, WebM, FLV
- æ”¯æŒçš„å›¾ç‰‡æ ¼å¼: JPG, PNG, GIF, WebP, BMP

## ğŸ”— ç›¸å…³é“¾æ¥

- **FFmpeg æ–‡æ¡£**: https://ffmpeg.org/documentation.html
- **Next.js æ–‡æ¡£**: https://nextjs.org/docs
- **Sequelize æ–‡æ¡£**: https://sequelize.org/docs/
- **Tailwind CSS**: https://tailwindcss.com/docs
- **Google OAuth**: https://developers.google.com/identity/protocols/oauth2

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

---

**å¼€å‘å®Œæˆæ—¶é—´**: 2024
**æŠ€æœ¯æ”¯æŒ**: æŸ¥çœ‹æ–‡æ¡£æˆ–æäº¤ Issue
**ç¥ä½¿ç”¨æ„‰å¿«ï¼** ğŸ¬ğŸ–¼ï¸

